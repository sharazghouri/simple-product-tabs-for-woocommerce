{"version":3,"file":"js/admin.js","mappings":"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","sources":["webpack://simple-product-tabs-for-woocommerce/./assets/admin/admin.js"],"sourcesContent":["\"use strict\";\n(function ($) {\n  function debounce(fn, delay) {\n    var timer = null;\n    return function () {\n      var context = this,\n        args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        fn.apply(context, args);\n      }, delay);\n    };\n  }\n\n  /**\n   * Search terms on typing keywords in Inclusions section\n   */\n  function termSearch() {\n    let self = $(this);\n    let taxonomy = self.attr('data-taxonomy');\n    let wrapperSelector = self.closest('.swt-inclusion-selector');\n    let inclusionType = self.attr('data-type');\n    // display the loader\n    wrapperSelector.find('.swt-loader').show();\n    // hide no results message initially\n    wrapperSelector.find('.swt-component-no-results').hide();\n    let searchedTermsList = wrapperSelector.find('.solution-box-search-list__list');\n    const searchTerm = self.val();\n    if (!searchTerm && !searchTerm.length) {\n      wrapperSelector.find('.swt-loader').hide();\n      return;\n    }\n    let searchParam = new URLSearchParams({\n      search: searchTerm\n    });\n \n    let API_SEARCH = `/wc/v3/products/${taxonomy}/?${searchParam.toString()}`;\n    if( taxonomy == 'product' ) {\n      API_SEARCH = `/wc/v3/products/?${searchParam.toString()}`;\n    }\n\n    // Make WooCommerce REST API call to get terms\n    wp.apiFetch({\n      path: API_SEARCH\n    }).then(terms => {\n      // hide the loader\n      self.closest('.swt-inclusion-selector').find('.swt-loader').hide();\n      if (terms.length == 0) {\n        // if no terms found, display no results found message\n        self.closest('.swt-inclusion-selector').find('.swt-component-no-results').show();\n        return;\n      }\n      let searchedTermsHTML = '';\n      terms.map(term => {\n        searchedTermsHTML += `<li data-inclusion-id=${term.id} data-inclusion-name=\"${term.name}\" data-inclusion-type=\"${inclusionType}\"><label for=\"search-list-item-${inclusionType}-0-${term.id}\" data-inclusion-type=\"${inclusionType}\" class=\" solution-box-search-list__item depth-0\"><input type=\"checkbox\" id=\"search-list-item-${inclusionType}-0-${term.id}\" name=\"search-list-item-${inclusionType}-0\" class=\"solution-box-search-list__item-input\" value=\"\">\t<span class=\"solution-box-search-list__item-label\"><span class=\"solution-box-search-list__item-name\">${term.name}</span></span></label></li>`;\n      });\n      searchedTermsList.html(searchedTermsHTML).show();\n    });\n  }\n  $('#swt-category-search, #swt-tag-search , #swt-product-search').on('keyup', debounce(termSearch, 500));\n\n  /**\n   * Display/Hide inclusions sections based on the visibility condition\n   */\n  $('.sptb_visibility_condition').on('change', function () {\n    \n    if ($(this).val() === 'yes') {\n      $('#inclusions-list.form-table').addClass('hide-section');\n    } else {\n      $('#inclusions-list.form-table').removeClass('hide-section');\n    }\n  });\n  function selectTerm() {\n    const self = $(this);\n    const inclusionWrapper = self.closest('.swt-inclusion-selector');\n    // the current term that clicked\n    const checkedTerm = self.attr('data-inclusion-id');\n    const checkedTermName = self.attr('data-inclusion-name');\n    const wptInclusionType = self.attr('data-inclusion-type');\n    // get list of already added terms\n    const selectedTermDOM = inclusionWrapper.find('.solution-box-search-list__selected_terms input[type=\"hidden\"]');\n    const selectedTerms = Array.from(selectedTermDOM, term => term.value);\n    if (selectedTerms.includes(checkedTerm)) {\n      return;\n    }\n    let termListHTML = `<li><span class=\"solution-box-selected-list__tag\"><span class=\"solution-box-tag__text\" id=\"solution-box-tag__label-${checkedTerm}\"><span class=\"screen-reader-text\">${checkedTermName}</span><span aria-hidden=\"true\">${checkedTermName}</span></span><input type=\"hidden\" name=\"sptb_${wptInclusionType}_list[]\" value=\"${checkedTerm}\"><button type=\"button\" aria-describedby=\"solution-box-tag__label-${checkedTerm}\" class=\"components-button solution-box-tag__remove\" id=\"solution-box-remove-term\" aria-label=\"${checkedTermName}\"><svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" class=\"clear-icon\" aria-hidden=\"true\" focusable=\"false\"><path d=\"M12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21ZM15.5303 8.46967C15.8232 8.76256 15.8232 9.23744 15.5303 9.53033L13.0607 12L15.5303 14.4697C15.8232 14.7626 15.8232 15.2374 15.5303 15.5303C15.2374 15.8232 14.7626 15.8232 14.4697 15.5303L12 13.0607L9.53033 15.5303C9.23744 15.8232 8.76256 15.8232 8.46967 15.5303C8.17678 15.2374 8.17678 14.7626 8.46967 14.4697L10.9393 12L8.46967 9.53033C8.17678 9.23744 8.17678 8.76256 8.46967 8.46967C8.76256 8.17678 9.23744 8.17678 9.53033 8.46967L12 10.9393L14.4697 8.46967C14.7626 8.17678 15.2374 8.17678 15.5303 8.46967Z\"></path></svg></button></span></li>`;\n    inclusionWrapper.find('.solution-box-search-list__selected').removeClass('wpt-hide-selected-terms-section');\n    inclusionWrapper.find('.solution-box-search-list__selected').show();\n    inclusionWrapper.find('.solution-box-search-list__selected_terms').append(termListHTML);\n  }\n  $(document).on('click', '.solution-box-search-list__list li', debounce(selectTerm, 50));\n  $(document).on('click', '#solution-box-remove-term', function () {\n    var self = $(this);\n    let parent_list = $(this).parents('ul');\n    self.closest('li').remove();\n    if (parent_list.find('li').length === 0) {\n      $('.solution-box-remove-inclusions').click();\n    }\n  });\n  $('.solution-box-remove-inclusions').on('click', function () {\n    const self = $(this);\n    const wrapper = self.closest('.swt-inclusion-selector');\n    wrapper.find('.solution-box-search-list__selected_terms').empty();\n    wrapper.find('.solution-box-search-list__selected').hide();\n  });\n\n  /**\n   * Change the CPT filter status to a text field\n   */\n  $('body.post-type-woo_product_tab .wrap .subsubsub').html('<p class=\"swt-sub-heading\">Create additional tabs for your product pages and choose which categories they appear on. For more options,<a target=\"_blank\" href=\"https://solution-box.com/wordpress-plugins/woocommerce-product-tabs/?utm_source=settings&utm_medium=settings&utm_campaign=settingsinline&utm_content=swtsettings\">upgrade to Pro.</a></p>');\n\n\n\n   //Accordion - Product Edit page\n   const acc = document.getElementsByClassName( 'sptb_accordion' );\n   if ( acc ) {\n     let i;\n     for ( i = 0; i < acc.length; i++ ) {\n       const panel = acc[ i ].nextElementSibling;\n       if( ! panel.querySelector( '.override-tab-content' ).checked ) {\n         panel.querySelector( '.wp-editor-wrap' ).classList.add( 'hidden' );\n       }\n       acc[ i ].addEventListener( 'click', function() {\n         this.classList.toggle( 'active' );\n         panel.classList.toggle( 'hidden' );\n       } );\n     }\n   }\n \n   // Show the editor field\n   const overrideInputs = $( '.woocommerce_options_panel .override-tab-content' );\n   if( overrideInputs ) {\n     overrideInputs.each( function( i ) {\n       let editor = $( this ).parents('.tab-container').find( '.wp-editor-wrap' );\n       $( this ).on( 'change', function( e ) {\n         editor.toggleClass( 'hidden' );\n       })\n     } )\n   };\n})(jQuery);"],"names":["$","debounce","fn","delay","timer","context","args","arguments","clearTimeout","setTimeout","apply","termSearch","self","taxonomy","attr","wrapperSelector","closest","inclusionType","find","show","hide","searchedTermsList","searchTerm","val","length","searchParam","URLSearchParams","search","API_SEARCH","toString","wp","apiFetch","path","then","terms","searchedTermsHTML","map","term","id","name","html","on","addClass","removeClass","selectTerm","inclusionWrapper","checkedTerm","checkedTermName","wptInclusionType","selectedTermDOM","selectedTerms","Array","from","value","includes","termListHTML","append","document","parent_list","parents","remove","click","wrapper","empty","acc","getElementsByClassName","i","panel","nextElementSibling","querySelector","checked","classList","add","addEventListener","toggle","overrideInputs","each","editor","e","toggleClass","jQuery"],"sourceRoot":""}